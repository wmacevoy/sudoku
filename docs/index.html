<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sudoku Assistant — Explain-as-you-go</title>
  <style>
    :root{
      --bg:#0b0c0f; --panel:#111318; --ink:#e8ecf1; --muted:#64748b;
      --accent:#60a5fa; --danger:#f87171; --ok:#34d399; --grid:#1f2430; --bold:#e2e8f0;
      --arrow:#f59e0b; --box:#334155; --hl:#1d4ed8; --note:#a78bfa;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial; color:var(--ink); background:#0b0c0f}
    header{padding:18px 16px; display:flex; gap:12px; align-items:center; justify-content:space-between; background:#0e1218; border-bottom:1px solid #0f172a}
    h1{font-size:18px; margin:0; font-weight:600; letter-spacing:.2px}
    .wrap{max-width:1200px; margin:0 auto; padding:18px; display:grid; grid-template-columns: 1fr 360px; gap:18px}
    @media (max-width: 980px){ .wrap{grid-template-columns:1fr} }

    /* Board */
    .board-wrap{position:relative; display:flex; align-items:center; justify-content:center;}
    .board{width:min(92vw, 760px); aspect-ratio:1/1; background:var(--panel); border-radius:14px; padding:14px; box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 0 0 1px #0f172a}
    .grid{display:grid; grid-template-columns: repeat(9,1fr); grid-template-rows: repeat(9,1fr); width:100%; height:100%; position:relative;}
    .cell{position:relative; border:1px solid var(--grid);}    
    .cell.filled{background:#0b1020}
    /* 3×3 blocks */
    .cell[data-col="1"], .cell[data-col="4"], .cell[data-col="7"]{border-left-width:2px}
    .cell[data-col="9"]{border-right-width:2px}
    .cell[data-row="1"], .cell[data-row="4"], .cell[data-row="7"]{border-top-width:2px}
    .cell[data-row="9"]{border-bottom-width:2px}

    .value{position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size: clamp(20px, 4.2vw, 40px); font-weight:700; color:var(--bold)}

    /* candidates layout 3x3 mini-grid (screen help mode) */
    .cands{position:absolute; inset:2px; display:grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); gap:1px; padding:2px}
    .cand{display:flex; align-items:center; justify-content:center; font-size: clamp(9px, 1.6vw, 16px); color:var(--muted); opacity:.85; border-radius:4px; cursor:pointer; user-select:none; position:relative}
    .cand.disabled{opacity:.18; filter:grayscale(1)}
    .cand.only{font-weight:800; color:var(--ink); opacity:1}
    .cand:hover{outline:1px solid var(--accent); color:var(--ink)}

    .controls{background:var(--panel); border-radius:14px; padding:14px; box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 0 0 1px #0f172a; display:flex; flex-direction:column; gap:12px}
    .controls h2{margin:0 0 6px 0; font-size:16px}
    .toolbar{display:flex; flex-wrap:wrap; gap:8px}
